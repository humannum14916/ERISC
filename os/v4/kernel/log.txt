
namespace Log {
  
function stackless void logStr(array[char] str){
  for(define int i=0;str[i] != null;i=i+1){
    call logChar(str[i]);
  };
};

function stackless void printf(
  array[char] msg, array[int] reps
) {
  define int ri = 0;
  for(define int i=0;msg[i]!=null;i=i+1){
    if(msg[i] == "%"){
      call logInt(reps[ri]);
      ri = ri + 1;
    } else {
      call logChar(msg[i]);
    };
  };
};

function stackless void logChar(char c){
  asm "TRS Log.logChar.c,TTY";
};

function stackless void logInt(int i){
  asm "TRS Log.logInt.i,TTY";
};

};
